<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üóùÔ∏è The Lost Key ‚Äî Text Adventure</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #0f0f14 0%, #1a1a24 50%, #0d0d12 100%);
      color: #c9c9d4;
      font-family: 'Crimson Pro', Georgia, serif;
      font-size: 1.15rem;
      line-height: 1.65;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }

    .game-container {
      max-width: 560px;
      width: 100%;
      background: rgba(18, 18, 24, 0.85);
      border: 1px solid #2a2a36;
      border-radius: 12px;
      box-shadow: 0 24px 48px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.03);
      padding: 2rem;
    }

    h1 {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.25rem;
      font-weight: 600;
      color: #e8e8f0;
      margin-bottom: 0.5rem;
      letter-spacing: 0.05em;
    }

    .subtitle {
      font-size: 0.9rem;
      color: #6b6b7a;
      margin-bottom: 1.5rem;
    }

    #story {
      min-height: 120px;
      margin-bottom: 1.5rem;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .choices {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }

    button {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      padding: 0.75rem 1rem;
      background: #252532;
      border: 1px solid #3a3a48;
      border-radius: 6px;
      color: #d4d4e0;
      cursor: pointer;
      text-align: left;
      transition: background 0.2s, border-color 0.2s, transform 0.1s;
    }

    button:hover {
      background: #2e2e3c;
      border-color: #5a5a6e;
      transform: translateX(4px);
    }

    button:active {
      transform: translateX(2px);
    }

    .restart {
      margin-top: 1rem;
      text-align: center;
      color: #6b6b7a;
    }

    .restart button {
      text-align: center;
      display: inline-block;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>üóùÔ∏è THE LOST KEY</h1>
    <p class="subtitle">A short text adventure ¬∑ Play in your browser</p>

    <div id="story"></div>
    <div id="choices" class="choices"></div>
    <div id="restart" class="restart hidden">
      <button type="button" id="restartBtn">Play again</button>
    </div>
  </div>

  <script>
    const storyEl = document.getElementById('story');
    const choicesEl = document.getElementById('choices');
    const restartEl = document.getElementById('restart');
    const restartBtn = document.getElementById('restartBtn');

    const story = {
      start: {
        text: `You wake in a dim room. Dust floats in the stray light from a high window. A heavy door stands ajar. On the floor beside you, a rusty key.

What do you do?`,
        choices: [
          { text: 'Take the key and head through the door', next: 'hallway' },
          { text: 'Look around the room first', next: 'inspect' },
          { text: 'Try the window', next: 'window' }
        ]
      },
      hallway: {
        text: `You step into a narrow hallway. Two doors: one left, one right. Faint voices drift from the left.

Which way?`,
        choices: [
          { text: 'Go left toward the voices', next: 'left_room' },
          { text: 'Go right into silence', next: 'right_room' }
        ]
      },
      inspect: {
        text: `You find an old note under the bed: "The key opens the red door. Trust no one after sundown."

You pocket the key and go through the main door.`,
        choices: [
          { text: 'Continue into the hallway', next: 'hallway' }
        ]
      },
      window: {
        text: `The window is barred and too high to reach. You give up and take the key, then leave through the door.`,
        choices: [
          { text: 'Continue into the hallway', next: 'hallway' }
        ]
      },
      left_room: {
        text: `You push the door open. Two figures turn‚Äîguards. "That key. Hand it over."

You could run, or try to talk.`,
        choices: [
          { text: 'Run back and take the right door', next: 'right_room' },
          { text: "Throw the key and sprint past them", next: 'throw_key' }
        ]
      },
      right_room: {
        text: `A small study. Shelves of books, a desk, and a RED DOOR. You remember the note.

You use the key. The lock clicks.`,
        choices: [
          { text: 'Open the red door', next: 'escape' }
        ]
      },
      throw_key: {
        text: `You toss the key. They dive for it. You bolt past, sprint down the hall, and slip through the right door. The red door is there‚Äîbut you no longer have the key.`,
        choices: [
          { text: 'Accept your fate', next: 'caught' }
        ]
      },
      escape: {
        text: `Beyond the red door: a hidden path through the walls. You follow it into cool night air and freedom.

You escaped. Well done.`,
        choices: []
      },
      caught: {
        text: `The guards burst in. You're trapped. The key is gone, and so is your chance.

Game over.`,
        choices: []
      }
    };

    let state = 'start';

    function render() {
      const scene = story[state];
      if (!scene) return;

      storyEl.textContent = scene.text;
      choicesEl.innerHTML = '';

      if (scene.choices.length === 0) {
        restartEl.classList.remove('hidden');
        return;
      }

      restartEl.classList.add('hidden');
      scene.choices.forEach(c => {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.textContent = c.text;
        btn.addEventListener('click', () => {
          state = c.next;
          render();
        });
        choicesEl.appendChild(btn);
      });
    }

    restartBtn.addEventListener('click', () => {
      state = 'start';
      restartEl.classList.add('hidden');
      render();
    });

    render();
  </script>
</body>
</html>
